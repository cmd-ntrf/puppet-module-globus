<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: globus
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "puppet_classes::globus";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (g)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">globus</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Class: globus</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd><span class='object_link'><a href="globus_3A_3Aparams.html" title="puppet_classes::globus::params (puppet_class)">globus::params</a></span></dd>
  </dl>
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/init.pp
    </dd>
  </dl>
</div>

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>Class: globus: See README.md for documentation</p>

  </div>
</div>


<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>include_io_server</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>include_id_server</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>include_oauth_server</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>release_url</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$globus::params::release_url</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>repo_descr</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$globus::params::repo_descr</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>repo_baseurl</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$globus::params::repo_baseurl</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>remove_cilogon_cron</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>extra_gridftp_settings</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>first_gridftp_callback</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>manage_service</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>run_setup_commands</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>manage_firewall</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>manage_epel</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>globus_user</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;%(GLOBUS_USER)s&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>globus_password</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;%(GLOBUS_PASSWORD)s&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>endpoint_name</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>$::hostname</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>endpoint_public</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>endpoint_default_directory</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/~/&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>security_fetch_credentials_from_relay</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>security_certificate_file</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/var/lib/globus-connect-server/grid-security/hostcert.pem&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>security_key_file</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/var/lib/globus-connect-server/grid-security/hostkey.pem&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>security_trusted_certificate_directory</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/var/lib/globus-connect-server/grid-security/certificates/&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>security_identity_method</span>
      
      
        <span class='type'>(<tt>Enum['MyProxy', 'OAuth', 'CILogon']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;MyProxy&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>security_authorization_method</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>security_gridmap</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>security_cilogon_identity_provider</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_server</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_server_port</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;2811&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_server_behind_nat</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_incoming_port_range</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[&#39;50000&#39;, &#39;51000&#39;]</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_outgoing_port_range</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_data_interface</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_restrict_paths</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[&#39;RW~&#39;, &#39;N~/.*&#39;]</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_sharing</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_sharing_restrict_paths</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_sharing_state_dir</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;$HOME/.globus/sharing&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_sharing_users_allow</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_sharing_groups_allow</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_sharing_users_deny</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>gridftp_sharing_groups_deny</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>myproxy_server</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>myproxy_server_port</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;7512&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>myproxy_server_behind_nat</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>myproxy_ca_directory</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/var/lib/globus-connect-server/myproxy-ca&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>myproxy_config_file</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/var/lib/globus-connect-server/myproxy-server.conf&#39;</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>myproxy_ca_subject_dn</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>myproxy_firewall_sources</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[&#39;174.129.226.69&#39;, &#39;54.237.254.192/29&#39;]</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>oauth_server</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>oauth_server_behind_firewall</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>oauth_stylesheet</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>oauth_logo</span>
      
      
        <span class='type'>(<tt>Any</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>undef</tt>)</em>
      
      
    </li>
  
</ul>


</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/init.pp', line 2</span>

class globus (
  Boolean $include_io_server                = true,
  Boolean $include_id_server                = true,
  Boolean $include_oauth_server             = false,
  $release_url                              = $globus::params::release_url,
  $repo_descr                               = $globus::params::repo_descr,
  $repo_baseurl                             = $globus::params::repo_baseurl,
  Boolean $remove_cilogon_cron              = false,
  Array $extra_gridftp_settings             = [],
  $first_gridftp_callback                   = undef,
  Boolean $manage_service                   = true,
  Boolean $run_setup_commands               = true,
  Boolean $manage_firewall                  = true,
  Boolean $manage_epel                      = true,

  # Globus Config
  $globus_user                              = &#39;%(GLOBUS_USER)s&#39;,
  $globus_password                          = &#39;%(GLOBUS_PASSWORD)s&#39;,

  # Endpoint Config
  $endpoint_name                            = $::hostname,
  $endpoint_public                          = false,
  $endpoint_default_directory               = &#39;/~/&#39;,

  # Security Config
  $security_fetch_credentials_from_relay    = true,
  $security_certificate_file                = &#39;/var/lib/globus-connect-server/grid-security/hostcert.pem&#39;,
  $security_key_file                        = &#39;/var/lib/globus-connect-server/grid-security/hostkey.pem&#39;,
  $security_trusted_certificate_directory   = &#39;/var/lib/globus-connect-server/grid-security/certificates/&#39;,
  Enum[&#39;MyProxy&#39;, &#39;OAuth&#39;, &#39;CILogon&#39;]
    $security_identity_method               = &#39;MyProxy&#39;,
  $security_authorization_method            = undef,
  $security_gridmap                         = undef,
  $security_cilogon_identity_provider       = undef,

  # GridFTP Config
  $gridftp_server                           = undef,
  $gridftp_server_port                      = &#39;2811&#39;,
  $gridftp_server_behind_nat                = false,
  Array $gridftp_incoming_port_range        = [&#39;50000&#39;, &#39;51000&#39;],
  $gridftp_outgoing_port_range              = undef, #&#39;50000-51000&#39;,
  $gridftp_data_interface                   = undef,
  Array $gridftp_restrict_paths             = [&#39;RW~&#39;, &#39;N~/.*&#39;],
  $gridftp_sharing                          = false,
  $gridftp_sharing_restrict_paths           = undef,
  $gridftp_sharing_state_dir                = &#39;$HOME/.globus/sharing&#39;,
  $gridftp_sharing_users_allow              = undef,
  $gridftp_sharing_groups_allow             = undef,
  $gridftp_sharing_users_deny               = undef,
  $gridftp_sharing_groups_deny              = undef,

  # MyProxy Config
  $myproxy_server                           = undef,
  $myproxy_server_port                      = &#39;7512&#39;,
  $myproxy_server_behind_nat                = false,
  $myproxy_ca_directory                     = &#39;/var/lib/globus-connect-server/myproxy-ca&#39;,
  $myproxy_config_file                      = &#39;/var/lib/globus-connect-server/myproxy-server.conf&#39;,
  $myproxy_ca_subject_dn                    = undef,
  Array $myproxy_firewall_sources           = [&#39;174.129.226.69&#39;, &#39;54.237.254.192/29&#39;],

  # OAuth Config
  $oauth_server                             = undef,
  $oauth_server_behind_firewall             = false,
  $oauth_stylesheet                         = undef,
  $oauth_logo                               = undef,
) inherits globus::params {

  if $include_io_server {
    $_gridftp_server    = pick($gridftp_server, &quot;${::fqdn}:${gridftp_server_port}&quot;)
    $_io_setup_command  = &#39;globus-connect-server-io-setup&#39;
  } else {
    $_gridftp_server    = $gridftp_server
    $_io_setup_command  = undef
  }

  if $include_id_server {
    $_myproxy_server    = pick($myproxy_server, &quot;${::fqdn}:${myproxy_server_port}&quot;)
    $_id_setup_command  = &#39;globus-connect-server-id-setup&#39;
  } else {
    $_myproxy_server    = $myproxy_server
    $_id_setup_command  = undef
  }

  if $include_oauth_server {
    $_oauth_server        = pick($oauth_server, $::fqdn)
    $_oauth_setup_command = &#39;globus-connect-server-web-setup&#39;
  } else {
    $_oauth_server        = $oauth_server
    $_oauth_setup_command = undef
  }

  $_setup_commands  = delete_undef_values([$_io_setup_command, $_id_setup_command, $_oauth_setup_command])
  $_setup_command   = join($_setup_commands, &#39; &amp;&amp; &#39;)

  contain globus::install
  contain globus::config
  contain globus::service

  case $::osfamily {
    &#39;RedHat&#39;: {
      if $manage_epel {
        include ::epel
        Class[&#39;epel&#39;] -&gt; Class[&#39;globus::repo::el&#39;]
      }
      contain globus::repo::el

      Class[&#39;globus::repo::el&#39;]
      -&gt; Class[&#39;globus::install&#39;]
      -&gt; Class[&#39;globus::config&#39;]
      -&gt; Class[&#39;globus::service&#39;]
    }
    default: {
      # Do nothing
    }
  }

}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>